{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:3000';\n\nclass User {\n  static async request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = {\n      Authorization: `Bearer ${User.token}`\n    };\n    const params = method === \"get\" ? data : {};\n\n    try {\n      return (await axios({\n        url,\n        method,\n        data,\n        params,\n        headers\n      })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  static async register(data) {\n    const res = await this.request(`/auth/register`, data, \"post\");\n    return res.token;\n  } // const login = async (username, password) => {\n  //     const res = await axios.post(`${BASE_URL}/auth/login`, \n  //     )\n  // }\n\n\n}\n\nexport default User;","map":{"version":3,"sources":["/Users/anyone/Desktop/Coding/SB Bootcamp/Capstone-Project-2/frontend/src/components/api.js"],"names":["axios","BASE_URL","User","request","endpoint","data","method","console","debug","url","headers","Authorization","token","params","err","error","response","message","Array","isArray","register","res"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;;AAGA,MAAMC,IAAN,CAAW;AAIS,eAAPC,OAAO,CAACC,QAAD,EAAWC,IAAI,GAAG,EAAlB,EAAsBC,MAAM,GAAG,KAA/B,EAAsC;AACtDC,IAAAA,OAAO,CAACC,KAAR,CAAc,WAAd,EAA2BJ,QAA3B,EAAqCC,IAArC,EAA2CC,MAA3C;AAEA,UAAMG,GAAG,GAAI,GAAER,QAAS,IAAGG,QAAS,EAApC;AACA,UAAMM,OAAO,GAAG;AAAEC,MAAAA,aAAa,EAAG,UAAST,IAAI,CAACU,KAAM;AAAtC,KAAhB;AACA,UAAMC,MAAM,GAAIP,MAAM,KAAK,KAAZ,GACTD,IADS,GAET,EAFN;;AAGA,QAAI;AACJ,aAAO,CAAC,MAAML,KAAK,CAAC;AAAES,QAAAA,GAAF;AAAOH,QAAAA,MAAP;AAAeD,QAAAA,IAAf;AAAqBQ,QAAAA,MAArB;AAA6BH,QAAAA;AAA7B,OAAD,CAAZ,EAAsDL,IAA7D;AACC,KAFD,CAEE,OAAOS,GAAP,EAAY;AACdP,MAAAA,OAAO,CAACQ,KAAR,CAAc,YAAd,EAA4BD,GAAG,CAACE,QAAhC;AACA,UAAIC,OAAO,GAAGH,GAAG,CAACE,QAAJ,CAAaX,IAAb,CAAkBU,KAAlB,CAAwBE,OAAtC;AACA,YAAMC,KAAK,CAACC,OAAN,CAAcF,OAAd,IAAyBA,OAAzB,GAAmC,CAACA,OAAD,CAAzC;AACC;AACJ;;AAEoB,eAARG,QAAQ,CAAEf,IAAF,EAAQ;AACzB,UAAMgB,GAAG,GAAG,MAAM,KAAKlB,OAAL,CAAc,gBAAd,EAA8BE,IAA9B,EAAoC,MAApC,CAAlB;AACA,WAAOgB,GAAG,CAACT,KAAX;AACH,GAxBU,CA0BX;AACA;AACA;AAEA;;;AA9BW;;AAiCX,eAAeV,IAAf","sourcesContent":["import axios from 'axios'\n\nconst BASE_URL = 'http://localhost:3000'\n\n\nclass User {\n\n    static token;\n\nstatic async request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = { Authorization: `Bearer ${User.token}` };\n    const params = (method === \"get\")\n        ? data\n        : {};\n    try {\n    return (await axios({ url, method, data, params, headers })).data;\n    } catch (err) {\n    console.error(\"API Error:\", err.response);\n    let message = err.response.data.error.message;\n    throw Array.isArray(message) ? message : [message];\n    }\n}\n    \nstatic async register (data) {\n    const res = await this.request(`/auth/register`,data, \"post\")\n    return res.token\n}\n\n// const login = async (username, password) => {\n//     const res = await axios.post(`${BASE_URL}/auth/login`, \n//     )\n\n// }\n}\n\nexport default User"]},"metadata":{},"sourceType":"module"}